
<main class="Fondo">

  <div class="flex items-center justify-center mt-[5%]">
    <div class="box">
      <div class="inner-box">
          <div class="image-container">

              <a href="#"><img class="imglogo" src="../img/Logo.png" alt=""></a>
              <img class="imglogo2" src="../../../../assets/images/caballero3.png" alt="">

              <form class="" id="formulario" [formGroup]="registerForm" (ngSubmit)="onSubmit()" method="post">

                <div class="inc mb-8">
                    <h2>Registro</h2>

                </div>

                    <label for="username" >Nickname</label>
                    <input class="text-sm" type="text" id="inputfield" formControlName="username" class="
                    invalid:border-red-600 invalid:text-red-600
                    focus:invalid:border-red-600 focus:invalid:ring-red-600" required>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('username') }}</mat-error>


                    <!-- Input Nombre -->
                    <label for="name" >Nombre</label>
                    <input type="text" id="inputfield" formControlName="name" class="
                    invalid:border-red-600 invalid:text-red-600
                    focus:invalid:border-red-600 focus:invalid:ring-red-600" required>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('name') }}</mat-error>

                    <!-- Input Apellido -->
                    <label for="last_name" >Apellido</label>
                    <input type="text" id="inputfield" formControlName="last_name" class="
                    invalid:border-red-600 invalid:text-red-600
                    focus:invalid:border-red-600 focus:invalid:ring-red-600" required>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('last_name') }}</mat-error>

                    <!-- Input Correo -->
                    <label for="email">Correo</label>
                    <input type="email" id="inputfield" formControlName="email" class="
                    invalid:border-red-600 invalid:text-red-600
                    focus:invalid:border-red-600 focus:invalid:ring-red-600"
                    required>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('email') }}</mat-error>

                    <!-- Input Contraseña -->
                    <div class="flex items-start">

                      <label for="password">Contraseña</label>
                      <button
                      class="ml-3"
                      mat-icon-button
                      matSuffix
                      (click)="hide = !hide"
                      [attr.aria-label]="'Hide password'"
                      [attr.aria-pressed]="hide">
                      <mat-icon class="ml-3">{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
                      </button>

                    </div>

                    <input
                      type="password"
                      id="inputfield"
                      [type]="hide ? 'password' : 'text'"
                      formControlName="password"
                      class="overflow-y-hidden invalid:border-red-600 invalid:text-red-600 focus:invalid:border-red-600 focus:invalid:ring-red-600"
                      required
                    />


                    <!-- Mostrar el mensaje de error específico de la contraseña -->
                    <mat-error
                      class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2 max-w-[290px]"
                      *ngIf="getErrorMessage('password')"
                    >
                      {{ getErrorMessage('password') }}
                    </mat-error>



                    <!-- Select Pregunta Seguridad -->
                    <label for="question">Pregunta Seguridad</label>
                    <select formControlName="question" id="inputfieldPregunta" class="
                    invalid:border-red-600 invalid:text-red-600
                    focus:invalid:border-red-600 focus:invalid:ring-red-600">
                      <option *ngFor="let question of securityQuestions" [value]="question.value">{{ question.label }}</option>
                    </select>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('question') }}</mat-error>


                    <label for="answer">Respuesta</label>
                    <input type="text" id="inputfield" formControlName="answer" class="respuestaInput" required>
                    <mat-error class="text-[10px] text-red-600 -mt-[6px] ml-3 mb-2">{{ getErrorMessage('answer') }}</mat-error>

                    <div class="terms flex items-start space-x-2 mt-3">
                      <input type="checkbox" id="checkbox" formControlName="checkterms" class="w-5" required>
                      <div class="text-[16px] mt-[2px]">Acepto los <a (click)="openModal(modalTemplate)" class="terlink text-blue-800 hover:text-blue-600 cursor-pointer underline" >terminos y condiciones</a></div>
                    </div>

                    <div class="BTN">

                      <button class="btnenter" type="submit" (click)="mostrarMensaje()" [disabled]="isSubmitting">Registrarte</button>

                    </div>


                    <ng-template #modalTemplate>
                      <div class="container3 overflow-y-auto max-h-[600px] z-10">
                        <div class="content">
                            <p>De acuerdo con la Ley Estatutaria 1581 de 2012 de Colombia, nos comprometemos a proteger los datos personales proporcionados por nuestros usuarios.</p>

                            <h2>Recopilación de Datos</h2>
                            <p>Recopilamos información personal como nombres, apellidos, email y medio de pago para fines de identificación, contacto y/o compras online.</p>
                            <p>Al implementar como medio de pago la plataforma externa de Paypal, debe referirse a los <a href="https://thenexusbattles2.cloud/static/terminos-paypal.pdf">Terminos y condiciones de Paypal</a></p>
                            <h2>Uso de Datos</h2>
                            <p>Los datos recopilados se utilizarán únicamente para los fines establecidos en nuestros servicios y no se compartirán con terceros sin su consentimiento.</p>
                            <p>Debe tener un cuenta que las acciones que realice en la plataforma estan en constante administración y si se considera que infringe las normas de THE NEXUS BATTLES II, usted puede recibir sanciones que van desde bloqueos temporales del servicio como la inhabilitación de su cuenta.</p>

                            <h2>Derechos del Titular</h2>
                            <p>Los usuarios tienen derecho a acceder, corregir y eliminar sus datos personales almacenados en nuestra plataforma.</p>

                            <h2>Seguridad</h2>
                            <p>Implementamos medidas de seguridad para proteger los datos de los usuarios contra el acceso no autorizado a su información y el uso indebido de la misma.</p>

                            <h2>Modificaciones a las condiciones de uso</h2>
                            <p>THE NEXUS BATTLES II se reservará el derecho de modificar las Políticas de Privacidad y de Tratamiento de Datos Personales aquí contenidas a su libre elección y en cualquier momento, cualquier cambio será informado y publicado oportunamente en la plataforma. Por ende, el Usuario se compromete a revisar periódicamente esta sección para estar informado de tales modificaciones y cada nuevo acceso del usuario a la página será considerado una aceptación tácita de las nuevas condiciones.</p>

                            <h2>Consentimiento</h2>
                            <p>Al utilizar nuestros servicios, usted garantiza que es mayor de dieciocho (18) años de edad y acepta nuestros términos y la recopilación de sus datos según lo establecido en esta política.</p>

                            <p>Para mas información, consulte la <a href="https://thenexusbattles2.cloud/static/Ley_1581_de_2012.pdf">Ley 1581 de 2012</a>.</p>
                        </div>
                    </div>
                    </ng-template>


                    <ng-template #modalEjemplo>
                      <div class="container3 overflow-y-auto max-h-[600px] z-10">
                        <div class="flex flex-col items-center">
                          <img src="../../../../assets/images/success.png" class="w-[175px] h-[175px] text-center">
                          <p class="text-center font-medium text-[50px]">¡Exito!</p>
                          <p class="text-center font-normal text-[#535252]">El usuario se ha creado con éxito.<br> ¡Listo para entrar en The Nexus Battle II!</p>

                        </div>
                    </div>
                    </ng-template>


                    <br>
                  </form>
          </div>
      </div>
    </div>
  </div>
</main>
